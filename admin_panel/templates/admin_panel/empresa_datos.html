{% extends "admin_panel/base.html" %}
{% block title %}Datos de empresa{% endblock %}
{% block header_title %}Datos de empresa{% endblock %}

{% block content %}
  <div class="row">
    <div class="col s12 l8">
      <div class="card">
        <div class="card-content">
          <span class="card-title">Datos de empresa</span>
          <p class="grey-text" style="margin-top:0;">
            Estos datos se usan en tickets y configuraciones comerciales del sistema.
          </p>

          <form method="post" novalidate>
            {% csrf_token %}

            <div class="row" style="margin-bottom:0;">
              <div class="input-field col s12 m6">
                {{ form.nombre }}
                <label for="{{ form.nombre.id_for_label }}" class="active">Nombre</label>
                {% for err in form.nombre.errors %}<div class="red-text text-darken-2" style="font-size:12px;">{{ err }}</div>{% endfor %}
              </div>

              <div class="input-field col s12 m6">
                {{ form.cuit }}
                <label for="{{ form.cuit.id_for_label }}" class="active">CUIT</label>
                {% for err in form.cuit.errors %}<div class="red-text text-darken-2" style="font-size:12px;">{{ err }}</div>{% endfor %}
              </div>
            </div>

            <div class="row" style="margin-bottom:0;">
              <div class="input-field col s12 m6">
                {{ form.razon_social }}
                <label for="{{ form.razon_social.id_for_label }}" class="active">Razón social</label>
                {% for err in form.razon_social.errors %}<div class="red-text text-darken-2" style="font-size:12px;">{{ err }}</div>{% endfor %}
              </div>

              <div class="col s12 m6" style="margin-top:10px;">
                <div class="grey-text text-darken-2" style="font-size:12px; margin-bottom:6px;">Condición fiscal</div>
                {{ form.condicion_fiscal }}
                {% for err in form.condicion_fiscal.errors %}<div class="red-text text-darken-2" style="font-size:12px; margin-top:4px;">{{ err }}</div>{% endfor %}
                <div class="grey-text" style="font-size:12px; margin-top:6px;">
                  Define cómo se mostrará el detalle fiscal en POS y ticket.
                </div>
              </div>
            </div>

            <div class="row" style="margin-bottom:0;">
              <div class="input-field col s12">
                {{ form.direccion }}
                <label for="{{ form.direccion.id_for_label }}" class="active">Dirección</label>
                {% for err in form.direccion.errors %}<div class="red-text text-darken-2" style="font-size:12px;">{{ err }}</div>{% endfor %}
              </div>
            </div>

            <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:4px;">
              <button type="submit" class="btn waves-effect waves-light">
                <i class="material-icons left">save</i>Guardar
              </button>
              <a href="{% url 'admin_panel:empresa_datos' %}" class="btn-flat waves-effect">
                Limpiar
              </a>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="col s12 l4">
      <div class="card-panel">
        <div style="font-weight:700; margin-bottom:6px;">Uso actual</div>
        <div class="grey-text" style="font-size:13px;">
          El campo <strong>Nombre</strong> se usa en el encabezado del ticket de venta.
          También podés completar razón social, CUIT, condición fiscal y dirección para futuras impresiones/reportes.
        </div>
      </div>
    </div>
  </div>
{% endblock %}
